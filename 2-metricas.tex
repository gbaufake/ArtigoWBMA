\section{Medição da Qualidade Interna do Produto}

A qualidade interna do produto de software pode ser medida, ainda em ambiente de desenvolvimento, por meio da avaliação de estruturas internas que compõem o sistema de software \cite{ISO25023}, sendo que as métricas extraídas diretamente do código-fonte são bons indicadores de qualidade interna de produto \cite{beck2003test}, pois são métricas objetivas e com características como validade, simplicidade, objetividade, fácil obtenção e robustez \cite{Mills:1999}.  


Para a escolha das métricas utilizadas neste trabalho, consideramos: i) os estudos encontrados na literatura sobre métricas de código-fonte, dentre eles o trabalho de Marinescu \cite{marinescu2005measurement} um dos mais reconhecidos nesta área; ii) a existência de estudos que definem valores de referência para análise das métricas dos conceitos mais relevantes à manutenibilidade do software como o tamanho, complexidade interna , modularidade e grau de depedência entre módulos \cite{Meirelles2013} iii) métricas que reflitam indicadores sobre boas práticas de programação, como por exemplo, a aderência a padrões de projeto e boas práticas de programação \cite{Machini2010}  ; iv) a existência das métricas na ferramenta de análise estática de código-fonte utilizada neste trabalho. Essas métricas escolhidas foram reunidas e são apresentadas na Tabela \ref{orientacao}.     

	\begin{table}[h]
	\caption{Conjunto de Métricas de Código-Fonte}
	\addtolength{\belowcaptionskip}{6pt}
	\begin{center}
	\input{tabelas/orientacao-objeto.ltx}
	\label{orientacao}
	\end{center}
	\end{table}

Em um trabalho recente sobre a análise de métricas de código-fonte, foi observado o comportamento estatístico das métricas de código-fonte de 38 projetos de software livre com mais de 100.000 downloads em um esforço de análise de mais de 300.000 classes. Entre os softwares analisados estão Tomcat, OpenJDK, Eclipse, Google Chrome, VLC e entre outros que foram desenvolvidos em C, C++ e Java \cite{Meirelles2013}. Neste trabalho, concluiu-se que há valores muitos frequentes, frequentes, pouco frequentes e não frequentes para softwares escritos em uma mesma linguagem de programação. Ao considerarmos a linguagem Java e o softwares que obtiveram os melhores resultados, como Eclipse e o OpenJDK 8, obtiveram-se as configurações tal como se mostra na Tabela \ref{tab:good-metrics}.  


	\begin{table}[!ht]
	\caption{Configurações para os Intervalos das Métricas}
	\addtolength{\belowcaptionskip}{2pt}
	\begin{center}
	\input{tabelas/metricas.ltx}	
	\label{tab:good-metrics}
	\end{center}
	\end{table}
Em outros trabalhos como os de Marinescu  \cite{marinescu2005measurement}, Moha \cite{moha2010decor} e Rao \cite{rao2007detecting}, foi mostrado é possível detectar trechos de código-fonte que podem ser melhorados\cite{fowler1999refactoring}, por meio da análise de métricas de código-fonte como forma de detecção. \cite{Machini2010}, tendo como base alguns destes trabalhos, construiu um mapeamento entre as métricas de código-fonte e as técnicas e práticas de limpeza de código-fonte propostas por \cite{Martin2008} e \cite{beck2007implementation} de forma a construir cenários que indicam a possibilidade de melhoria no código-fonte.

Considerando alguns cenários do trabalho de Machini \cite{Machini2010} como base, foram construídos mapeamentos chamados de cenários de limpeza de código-fonte, que são mostrados Tabela \ref{tab:cenarios}. Cada cenário foi identificado por um nome, características da disposição do código-fonte, recomendações a fim de eliminar o pedaço de código não coeso e a forma de detecção pelos intervalos de frequência do trabalho de Meirelles \cite{Meirelles2013} que é compatível também com a forma de detecção apresentada nos trabalhos de Marinescu, Moha e Rao.
	
	\begin{table}[ht]
	\centering
	\caption{Cenários de Limpeza de Código-Fonte}
	\addtolength{\belowcaptionskip}{6pt}
	\input{tabelas/cenarios.ltx}	
	\label{tab:cenarios}
	\end{table}


A partir da identificação dos cenários de limpeza de código-fonte e da contagem do número de classes em uma determinada \textit{release} do software, criou-se Taxa de Aproveitamento de Oportunidade de Melhoria de Código-Fonte como uma indicador objetivo de monitoramento da oportunidade de melhoria da qualidade do código-fonte, sendo que este é descrito conforme a Equação \ref{eqn01}.

\begin{equation}
\label{eqn01}
T_r =   \frac{{{Ce_r}}}{{Cl_r}}
\end{equation}

onde $ Ce_r $ é o total de cenários de limpeza em uma release e $ Cl_r $ é a quantidade classes na mesma release.
